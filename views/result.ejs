<!DOCTYPE html>
<html lang="en">

<%- include('template/header'); %>

<body>
  <div class="container">

    <%- include('template/navbar'); %>

    <div class="row">

      <div class="col-12">
        <h1>
          <%=title %>
        </h1>
      </div>

      <!-- Showing Word Details -->
      <div class="col-12" id="wordDetail">
        <h3>List of All Words for <code>
            <%=book %></code>:</h3>
        <br>
        <table class="table table-bordered table-sm" id="wordTable">
          <thead>
            <tr>
              <th style="width: 5%" scope="col">#</th>
              <th style="width: 15%" scope="col">Word</th>
              <th style="width: 70%" scope="col">Usage</th>
              <th style="width: 10%" scope="col">Def</th>
            </tr>
          </thead>
          <tbody>
            <!-- to be filled by js -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- Creating the a Table of Words -->
    <script src="./js/showWords.js" type="text/javascript"></script>
    <script>
      var wordList = <%- JSON.stringify(words) %>;
      var defMap = <%- JSON.stringify(definitionDict) %>;
      console.log("without: ", defMap);
      console.log("creating the table for " + wordList.length + " words!!");
      console.log("creating the table for " + Object.keys(defMap).length + " definitions!!", defMap);
      /* reading from showWords.js */
      createWordTable(wordList, defMap);

      $("a[id^=show_]").click(function (event) {
        console.log("show is clicked!");
        $("#def_" + $(this).attr(`id`).substr(5)).slideToggle("slow");
        event.preventDefault();
      })
    </script>
  </div>

  <%- include('template/footer'); %>
</body>

</html>